<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Selamat Ulang Tahun, Zaky!</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      min-height: 100vh;
      overflow-x: hidden;
      background: linear-gradient(120deg, #70c1ff 0%, #a2ffef 100%);
      transition: background 2s;
      font-family: 'Comic Sans MS', 'Nunito', cursive, sans-serif;
    }
    body {
      position: relative;
      min-height: 200vh;
    }
    .bg-anim {
      z-index: 0;
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      overflow: hidden;
      display: block;
    }
    .container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      z-index: 2;
    }
    /* === Animasi Kue Ulang Tahun === */
    .cake-anim {
      width: 170px;
      height: 220px;
      margin: 0 auto;
      position: relative;
      opacity: 0;
      transform: translateY(-350px) scale(0.92) rotate(-7deg);
      animation: cakeBounce 2.1s cubic-bezier(.22,1.61,.36,1) 0.1s forwards;
      filter: drop-shadow(0 16px 32px #3ec7e099);
      z-index: 5;
    }
    @keyframes cakeBounce {
      0% { opacity: 0; transform: translateY(-350px) scale(0.92) rotate(-7deg);}
      30% { opacity: 1; transform: translateY(30px) scale(1.05) rotate(9deg);}
      45% { transform: translateY(-18px) scale(0.97) rotate(-7deg);}
      60% { transform: translateY(12px) scale(1.01) rotate(7deg);}
      70% { transform: translateY(-7px) scale(1);}
      80% { transform: translateY(6px) scale(1.02);}
      100% { opacity: 1; transform: translateY(0) scale(1) rotate(0);}
    }
    .cake-shake {
      animation: cakeShake 1.1s infinite alternate cubic-bezier(.52,2,.36,1);
      animation-delay: 2.4s;
      animation-play-state: paused;
    }
    @keyframes cakeShake {
      0% { transform: translateY(0) rotate(-1deg);}
      20% { transform: translateY(2px) rotate(2deg);}
      40% { transform: translateY(-3px) rotate(-3deg);}
      60% { transform: translateY(2px) rotate(3deg);}
      80% { transform: translateY(-2px) rotate(-2deg);}
      100% { transform: translateY(0) rotate(1deg);}
    }
    .cake-base {
      position: absolute;
      bottom: 0; left: 0;
      width: 170px; height: 100px;
      background: linear-gradient(180deg, #fff7e6 60%, #eec48b 100%);
      border-radius: 0 0 90px 90px/0 0 70px 70px;
      border: 3px solid #e0b07a;
      box-shadow: 0 8px 26px #0002;
      z-index: 1;
    }
    .cake-layer {
      position: absolute;
      bottom: 74px; left: 22px;
      width: 125px; height: 40px;
      background: linear-gradient(90deg, #ffb5e8 60%, #e08fd3 100%);
      border-radius: 64px 64px 36px 36px/40px 40px 22px 22px;
      border: 2px solid #e08fd3;
      z-index: 2;
    }
    .cake-icing {
      position: absolute;
      bottom: 114px; left: 31px;
      width: 108px; height: 28px;
      background: repeating-linear-gradient(
        120deg, #7fdfff, #7fdfff 8px, #fcee21 8px, #fcee21 16px, #ff7f50 16px, #ff7f50 22px, #fcee21 22px, #fcee21 30px
      );
      border-radius: 54px 54px 22px 22px/18px 18px 16px 16px;
      border: 2px solid #3ec7e0;
      z-index: 3;
    }
    .cake-candle {
      position: absolute;
      left: 80px; bottom: 140px;
      width: 13px; height: 38px;
      background: linear-gradient(90deg, #fff 74%, #ffc107 100%);
      border-radius: 4px;
      border: 2px solid #e0b07a;
      box-shadow: 0 0 8px 2px #fff3;
      z-index: 5;
      animation: candleWiggle 1.1s 2.2s cubic-bezier(.31,1.1,.36,1) infinite alternate;
      animation-play-state: paused;
    }
    @keyframes candleWiggle {
      0% { transform: rotateZ(0deg);}
      100% { transform: rotateZ(-5deg);}
    }
    .flame {
      position: absolute;
      left: 84px; bottom: 176px;
      width: 18px; height: 23px;
      background: radial-gradient(ellipse at center, #fff8 60%, #ffd700 82%, #ff6 100%);
      border-radius: 50% 50% 60% 60%/70% 70% 100% 100%;
      opacity: 0.92;
      z-index: 10;
      filter: blur(1.5px) drop-shadow(0 0 12px #FFD70088);
      animation: flameFlicker 0.68s infinite alternate;
    }
    @keyframes flameFlicker {
      0% { transform: scaleY(1) scaleX(1) rotate(2deg); opacity: 1;}
      60% { transform: scaleY(1.08) scaleX(0.93) rotate(-4deg); opacity: 0.83;}
      100% { transform: scaleY(0.91) scaleX(1.1) rotate(6deg); opacity: 1;}
    }

    /* === Ucapan Utama === */
    .main-message {
      margin-top: 44px;
      font-size: 2.3em;
      color: #fff;
      letter-spacing: 1.2px;
      text-shadow: 0 2px 24px #428bff99, 0 1px 4px #3337;
      opacity: 0;
      transform: translateY(20px) scale(0.98);
      animation: fadeInUp 1.2s 2.2s cubic-bezier(.18,1.1,.32,1) forwards;
      text-align: center;
      z-index: 20;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* === Bagian bawah === */
    .bottom-section {
      margin: 0 auto;
      margin-top: 88px;
      background: rgba(255,255,255,0.98);
      max-width: 520px;
      border-radius: 30px;
      box-shadow: 0 6px 22px #0001, 0 0 32px 8px #a2ffef55;
      padding: 44px 32px 36px 32px;
      opacity: 0;
      transform: translateY(48px) scale(0.98);
      transition: all 1.2s cubic-bezier(.22,1.61,.36,1);
      text-align: center;
      z-index: 5;
      line-height: 1.7;
    }
    .bottom-section.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    .bottom-section h2 {
      color: #00b3b3;
      margin-bottom: 14px;
      font-size: 1.4em;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 12px #70c1ff77;
    }
    .bottom-section p {
      font-size: 1.16em;
      color: #3e3f41;
      margin-bottom: 12px;
    }

    /* === Responsif === */
    @media (max-width: 600px) {
      .container, .bottom-section { padding: 0 2vw; }
      .bottom-section { max-width: 98vw; }
      .main-message { font-size: 1.3em; }
      .cake-anim { width: 120px; height: 160px; }
    }
  </style>
</head>
<body>
  <!-- Background Animasi -->
  <canvas id="bg-confetti" class="bg-anim"></canvas>
  <canvas id="bg-bubble" class="bg-anim"></canvas>
  <canvas id="bg-balloons" class="bg-anim"></canvas>
  <div class="container">
    <!-- Animasi kue jatuh -->
    <div class="cake-anim" id="cake">
      <div class="cake-base"></div>
      <div class="cake-layer"></div>
      <div class="cake-icing"></div>
      <div class="cake-candle"></div>
      <div class="flame"></div>
    </div>
    <!-- Ucapan utama -->
    <div class="main-message" id="mainMsg">
      Mat ultah, <span style="color:#fcee21;text-shadow:0 0 16px #ffc;">Zaky!</span> ðŸŽ‚ðŸŽ‰<br>
      Semoga sehat selalu, ngap!
    </div>
  </div>
  <!-- Bagian bawah akan di-scroll otomatis -->
  <div class="bottom-section" id="bottomSec">
    <h2>apa aja dah</h2>
    <p>Semoga panjang umur, sehat selalu, dan sukses dalam segala hal!</p>
    <p>Jangan lupa terus tersenyum dan jangan ungut ungut tarus ðŸ˜Š</p>
    <p>makasih sudah mau makan jokesku yang garing. btw, jan lupa bayari aku makan mie yh!<br>
      <span style="color:#428bff;font-weight:bold;">Selamat ulang tahun!</span>
    </p>
  </div>
  <script>
    // ===== Kue Shake, Candle Wiggle Start setelah jatuh =====
    setTimeout(() => {
      const cake = document.getElementById('cake');
      cake.classList.add('cake-shake');
      for (const el of cake.getElementsByClassName('cake-candle')) {
        el.style.animationPlayState = 'running';
      }
    }, 2100);

    // Fade-in & scroll bagian bawah
    setTimeout(() => {
      document.getElementById('bottomSec').classList.add('show');
      setTimeout(() => {
        document.getElementById('bottomSec').scrollIntoView({behavior: 'smooth'});
      }, 700);
    }, 3300);

    // ===== Confetti BG =====
    const c = document.getElementById('bg-confetti');
    const ctx = c.getContext('2d');
    const colors = ['#5ebeff','#ffec70','#ff7f50','#3ec7e0','#fcee21','#8aff65','#ffb5e8','#f884ff'];
    let W = window.innerWidth, H = window.innerHeight;
    c.width = W; c.height = H;
    let pieces = [];
    for(let i=0;i<150;i++){
      pieces.push({
        x: Math.random()*W,
        y: Math.random()*H-50,
        r: Math.random()*8+6,
        d: Math.random()*50+30,
        color: colors[Math.floor(Math.random()*colors.length)],
        tilt: Math.random()*10-5,
        tiltAngle: 0,
        tiltAngleIncremental: (Math.random()*0.11)+.03,
        shape: Math.random()>0.5?'circle':'rect'
      });
    }
    function drawConfetti(){
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<pieces.length;i++){
        let p = pieces[i];
        ctx.save();
        ctx.beginPath();
        ctx.globalAlpha = 0.72;
        ctx.strokeStyle = p.color;
        ctx.fillStyle = p.color;
        ctx.lineWidth = p.r;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.tilt/28);
        if(p.shape==='circle'){
          ctx.arc(0,0,p.r/2,0,2*Math.PI);
          ctx.fill();
        } else {
          ctx.moveTo(-p.r/2,0); ctx.lineTo(p.r/2,0);
          ctx.stroke();
        }
        ctx.restore();
      }
      updateConfetti();
      requestAnimationFrame(drawConfetti);
    }
    function updateConfetti(){
      for(let i=0;i<pieces.length;i++){
        let p = pieces[i];
        p.y += (Math.cos(p.d)+2+ p.r/2)/2.3;
        p.tiltAngle += p.tiltAngleIncremental;
        p.tilt = Math.sin(p.tiltAngle- (i%3)) * 14;
        if(p.y > H){
          p.x = Math.random()*W;
          p.y = -10;
          p.tilt = Math.random()*10-5;
        }
      }
    }
    drawConfetti();

    // ===== Bubble BG =====
    const bubble = document.getElementById('bg-bubble');
    const btx = bubble.getContext('2d');
    bubble.width = W; bubble.height = H;
    let bubbles = [];
    for(let i=0;i<21;i++){
      bubbles.push({
        x: Math.random()*W, y: Math.random()*H,
        r: Math.random()*25+14, d: Math.random()*12+3,
        dx: Math.random()*1.5-0.7, dy: Math.random()*1.3+0.6,
        c: colors[Math.floor(Math.random()*colors.length)]
      });
    }
    function drawBubbles(){
      btx.clearRect(0,0,W,H);
      for(let b of bubbles){
        btx.beginPath();
        btx.arc(b.x, b.y, b.r, 0, 2*Math.PI);
        btx.fillStyle = b.c+'22';
        btx.shadowColor = b.c+'88';
        btx.shadowBlur = 19;
        btx.fill();
        btx.shadowBlur = 0;
        b.x += b.dx;
        b.y -= b.dy;
        if(b.x < -b.r) b.x = W+b.r;
        if(b.x > W+b.r) b.x = -b.r;
        if(b.y < -b.r) { b.y = H+b.r; b.x = Math.random()*W;}
      }
      requestAnimationFrame(drawBubbles);
    }
    drawBubbles();

    // ===== Balloon BG =====
    const balloon = document.getElementById('bg-balloons');
    const bltx = balloon.getContext('2d');
    balloon.width = W; balloon.height = H;
    let balloons = [];
    let balColors = ['#48A9E6','#FFE156','#FF61A6','#7FDBDA','#FFB36A','#CA7DF9','#FFF','#A0E426'];
    for(let i=0;i<10;i++){
      balloons.push({
        x: Math.random()*W,
        y: H+Math.random()*200,
        r: Math.random()*32+28,
        c: balColors[Math.floor(Math.random()*balColors.length)],
        swing: Math.random()*Math.PI*2,
        speed: Math.random()*0.4+0.18
      });
    }
    function drawBalloons(){
      bltx.clearRect(0,0,W,H);
      for(let b of balloons){
        let sway = Math.sin(Date.now()/900+b.swing)*15;
        bltx.save();
        bltx.beginPath();
        bltx.ellipse(b.x+sway, b.y, b.r*0.51, b.r*0.68, 0, 0, 2*Math.PI);
        bltx.fillStyle = b.c+'ea';
        bltx.shadowColor = b.c+'66';
        bltx.shadowBlur = 18;
        bltx.fill();
        // Tali
        bltx.shadowBlur=0;
        bltx.beginPath();
        bltx.moveTo(b.x+sway, b.y+b.r*0.68);
        bltx.lineTo(b.x+sway, b.y+b.r*1.18);
        bltx.strokeStyle = "#bbb";
        bltx.lineWidth = 2;
        bltx.stroke();
        bltx.restore();
        // Gerakkan balon ke atas
        b.y -= b.speed;
        if(b.y < -b.r*2) {
          b.y = H+Math.random()*180;
          b.x = Math.random()*W;
        }
      }
      requestAnimationFrame(drawBalloons);
    }
    drawBalloons();

    // ===== Moving Gradient BG =====
    let angle = 120;
    setInterval(()=>{
      angle += 0.3;
      if(angle>360) angle -= 360;
      document.body.style.background = `linear-gradient(${angle}deg, #70c1ff 0%, #a2ffef 100%)`;
    },48);

    // ===== Responsive Resize All Canvas =====
    window.addEventListener('resize',()=>{
      W=window.innerWidth; H=window.innerHeight;
      c.width=W; c.height=H;
      bubble.width=W; bubble.height=H;
      balloon.width=W; balloon.height=H;
    });
  </script>
</body>
</html>
