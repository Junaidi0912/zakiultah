<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Selamat Ulang Tahun, Zaky!</title>
  <style>
    html, body {
      margin: 0; padding: 0; min-height: 100vh; overflow-x: hidden;
      background: #232946;
      font-family: 'Comic Sans MS', 'Nunito', cursive, sans-serif;
    }
    body { position: relative; }
    .bg-anim, .bg-star {
      z-index: 0;
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      overflow: hidden;
      display: block;
    }
    .bg-gradient {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh;
      background: radial-gradient(circle at 60% 30%, #7fdfff88 0%, #3ec7e055 43%, #232946 90%);
      z-index: 1; pointer-events: none;
    }
    .container {
      min-height: 100vh;
      display: flex; flex-direction: column; justify-content: flex-start; align-items: center;
      position: relative; z-index: 2; padding-top: 8vh;
    }
    /* --- March 7th jatuh dan stay --- */
    .march7th-sticker {
      width: 110px; height: auto;
      position: relative;
      left: 0; top: 0;
      margin-bottom: -44px;
      z-index: 10;
      opacity: 0;
      animation: march7Drop 1.6s cubic-bezier(.32,1.6,.45,.99) 0.7s forwards, march7Wiggle 2.2s 2.2s infinite alternate;
      filter: drop-shadow(0 8px 24px #ffb5e888);
    }
    @keyframes march7Drop {
      0% { opacity: 0; transform: translateY(-160px) scale(0.92) rotate(-18deg);}
      45% { opacity: 1; transform: translateY(36px) scale(1.08) rotate(18deg);}
      62% { transform: translateY(5px);}
      75% { transform: translateY(22px);}
      90% { transform: translateY(8px);}
      100% { opacity: 1; transform: translateY(0) scale(1) rotate(0);}
    }
    @keyframes march7Wiggle {
      0% { transform: translateY(0) scale(1) rotate(-5deg);}
      60% { transform: translateY(-2px) scale(1.04) rotate(7deg);}
      100% { transform: translateY(0) scale(1) rotate(0);}
    }
    /* --- Kue stay --- */
    .cake-anim {
      width: 145px; height: 180px;
      position: relative;
      z-index: 5;
      margin-bottom: 18px;
      opacity: 0;
      animation: cakeBounce 1.4s cubic-bezier(.22,1.61,.36,1) 0.3s forwards;
      filter: drop-shadow(0 12px 28px #7fdfff77);
    }
    @keyframes cakeBounce {
      0% { opacity: 0; transform: translateY(-200px) scale(0.93) rotate(-7deg);}
      30% { opacity: 1; transform: translateY(23px) scale(1.06) rotate(9deg);}
      45% { transform: translateY(-14px) scale(0.97) rotate(-7deg);}
      60% { transform: translateY(10px) scale(1.01) rotate(7deg);}
      70% { transform: translateY(-5px) scale(1);}
      80% { transform: translateY(4px) scale(1.02);}
      100% { opacity: 1; transform: translateY(0) scale(1) rotate(0);}
    }
    .cake-shake {
      animation: cakeShake 1.1s infinite alternate cubic-bezier(.52,2,.36,1);
      animation-delay: 1.6s;
      animation-play-state: paused;
    }
    @keyframes cakeShake {
      0% { transform: translateY(0) rotate(-1deg);}
      20% { transform: translateY(2px) rotate(2deg);}
      40% { transform: translateY(-2px) rotate(-2deg);}
      60% { transform: translateY(2px) rotate(3deg);}
      80% { transform: translateY(-2px) rotate(-2deg);}
      100% { transform: translateY(0) rotate(1deg);}
    }
    .cake-base {
      position: absolute; bottom: 0; left: 0;
      width: 145px; height: 82px;
      background: linear-gradient(180deg, #fff7e6 60%, #eec48b 100%);
      border-radius: 0 0 70px 70px/0 0 54px 54px;
      border: 3px solid #e0b07a;
      box-shadow: 0 8px 20px #0002;
      z-index: 1;
    }
    .cake-layer {
      position: absolute; bottom: 60px; left: 15px;
      width: 112px; height: 32px;
      background: linear-gradient(90deg, #ffb5e8 60%, #e08fd3 100%);
      border-radius: 55px 55px 18px 18px/25px 25px 18px 18px;
      border: 2px solid #e08fd3;
      z-index: 2;
    }
    .cake-icing {
      position: absolute; bottom: 85px; left: 23px;
      width: 90px; height: 19px;
      background: repeating-linear-gradient(
        120deg, #7fdfff, #7fdfff 8px, #fcee21 8px, #fcee21 13px, #ff7f50 13px, #ff7f50 18px, #fcee21 18px, #fcee21 24px
      );
      border-radius: 40px 40px 11px 11px/13px 13px 11px 11px;
      border: 2px solid #3ec7e0;
      z-index: 3;
    }
    .cake-candle {
      position: absolute; left: 66px; bottom: 105px;
      width: 10px; height: 28px;
      background: linear-gradient(90deg, #fff 74%, #ffc107 100%);
      border-radius: 3px;
      border: 2px solid #e0b07a;
      box-shadow: 0 0 8px 2px #fff3;
      z-index: 5;
      animation: candleWiggle 1.1s 1.6s cubic-bezier(.31,1.1,.36,1) infinite alternate;
      animation-play-state: paused;
    }
    @keyframes candleWiggle {
      0% { transform: rotateZ(0deg);}
      100% { transform: rotateZ(-5deg);}
    }
    .flame {
      position: absolute; left: 69px; bottom: 132px;
      width: 14px; height: 17px;
      background: radial-gradient(ellipse at center, #fff8 60%, #ffd700 82%, #ff6 100%);
      border-radius: 50% 50% 60% 60%/70% 70% 100% 100%;
      opacity: 0.92;
      z-index: 10;
      filter: blur(1.1px) drop-shadow(0 0 8px #FFD70088);
      animation: flameFlicker 0.68s infinite alternate;
    }
    @keyframes flameFlicker {
      0% { transform: scaleY(1) scaleX(1) rotate(2deg); opacity: 1;}
      60% { transform: scaleY(1.08) scaleX(0.93) rotate(-4deg); opacity: 0.83;}
      100% { transform: scaleY(0.91) scaleX(1.1) rotate(6deg); opacity: 1;}
    }
    /* --- Ucapan --- */
    .main-message {
      margin-top: 0;
      margin-bottom: 22px;
      font-size: 2.25em;
      color: #fff;
      letter-spacing: 1.2px;
      text-shadow: 0 2px 24px #7fdfff88, 0 1px 4px #3337;
      opacity: 0;
      animation: fadeInUp 1.1s 1.7s cubic-bezier(.18,1.1,.32,1) forwards;
      text-align: center;
      z-index: 20;
      padding: 0 3vw;
      font-weight: bold;
    }
    /* --- Paragraf ucapan --- */
    .bottom-ucapan {
      margin: 0 auto 0 auto;
      background: rgba(34,41,70,0.83);
      max-width: 500px;
      border-radius: 20px;
      box-shadow: 0 6px 22px #0002, 0 0 22px 4px #a2ffef55;
      padding: 28px 22px 22px 22px;
      opacity: 0;
      transform: translateY(38px) scale(0.98);
      transition: all 1.2s cubic-bezier(.22,1.61,.36,1);
      text-align: center;
      z-index: 5;
      line-height: 1.8;
      color: #f5f5f7;
      font-size: 1.16em;
      border: 2px solid #7fdfff77;
      backdrop-filter: blur(2.5px);
      font-family: 'Nunito', 'Comic Sans MS', cursive, sans-serif;
    }
    .bottom-ucapan.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    /* --- Responsif --- */
    @media (max-width: 600px) {
      .container, .bottom-ucapan { padding: 0 1vw; }
      .bottom-ucapan { max-width: 98vw; }
      .main-message { font-size: 1.18em; }
      .cake-anim { width: 86px; height: 92px; }
      .march7th-sticker { width: 60px; margin-bottom: -28px;}
    }
  </style>
</head>
<body>
  <div class="bg-gradient"></div>
  <!-- Background Star & Animasi -->
  <canvas id="bg-star" class="bg-star"></canvas>
  <canvas id="bg-confetti" class="bg-anim"></canvas>
  <canvas id="bg-bubble" class="bg-anim"></canvas>
  <canvas id="bg-balloons" class="bg-anim"></canvas>
  <div class="container">
    <!-- March 7th Sticker Honkai Star Rail -->
    <img class="march7th-sticker" src="https://www.google.com/imgres?q=march%207%20stickers%20honkai%20star%20rail&imgurl=https%3A%2F%2Fi.pinimg.com%2F236x%2Fcb%2F1e%2Fec%2Fcb1eec12c5bc0ca061998f801b31bd53.jpg&imgrefurl=https%3A%2F%2Fwww.pinterest.com%2Fpin%2Fsticker-maker-honkai-star-rail-march-seven--798263102726233172%2F&docid=QT0337I4m8VeHM&tbnid=LsENKiAB7rzsVM&vet=12ahUKEwi0j4bnyN-NAxVfcGwGHcjzMqIQM3oECHgQAA..i&w=225&h=225&hcb=2&ved=2ahUKEwi0j4bnyN-NAxVfcGwGHcjzMqIQM3oECHgQAA" alt="March 7th Honkai Star Rail Sticker" />
    <!-- Kue stay di atas ucapan -->
    <div class="cake-anim" id="cake">
      <div class="cake-base"></div>
      <div class="cake-layer"></div>
      <div class="cake-icing"></div>
      <div class="cake-candle"></div>
      <div class="flame"></div>
    </div>
    <!-- Ucapan utama -->
    <div class="main-message" id="mainMsg">
      Selamat ulang tahun!
    </div>
    <!-- Ucapan bawah (hanya isi dari kamu) -->
    <div class="bottom-ucapan" id="bottomUcapan">
      apa aja dah<br>
      Semoga panjang umur, sehat selalu, dan sukses dalam segala hal!<br><br>
      Jangan lupa terus tersenyum dan jangan ungut ungut tarus ðŸ˜Š<br><br>
      makasih sudah mau makan jokesku yang garing. btw, jan lupa bayari aku makan mie yh!<br>
      Selamat ulang tahun!
    </div>
  </div>
  <script>
    // Kue shake, candle wiggle start setelah jatuh
    setTimeout(() => {
      const cake = document.getElementById('cake');
      cake.classList.add('cake-shake');
      for (const el of cake.getElementsByClassName('cake-candle')) {
        el.style.animationPlayState = 'running';
      }
    }, 1600);
    // Fade-in & scroll bagian bawah
    setTimeout(() => {
      document.getElementById('mainMsg').style.opacity = 1;
      document.getElementById('bottomUcapan').classList.add('show');
      setTimeout(() => {
        document.getElementById('bottomUcapan').scrollIntoView({behavior: 'smooth'});
      }, 600);
    }, 2100);

    // ==== Star BG ====
    const s = document.getElementById('bg-star');
    const sctx = s.getContext('2d');
    let SW = window.innerWidth, SH = window.innerHeight;
    s.width = SW; s.height = SH;
    let stars = [];
    for(let i=0;i<100;i++){
      stars.push({
        x: Math.random()*SW,
        y: Math.random()*SH,
        r: Math.random()*1.7+0.7,
        s: Math.random()*0.3+0.17,
        a: Math.random()*2*Math.PI,
        tw: Math.random()*0.8+0.2
      });
    }
    function drawStarBG(){
      sctx.clearRect(0,0,SW,SH);
      for(let st of stars){
        st.a += st.tw*0.04;
        let glow = Math.abs(Math.sin(st.a))*0.6+0.2;
        sctx.beginPath();
        sctx.arc(st.x, st.y, st.r+glow, 0, 2*Math.PI);
        sctx.fillStyle = "rgba(255,255,255,"+(0.11+0.22*glow)+")";
        sctx.fill();
        sctx.beginPath();
        sctx.arc(st.x, st.y, st.r, 0, 2*Math.PI);
        sctx.fillStyle = "#fff";
        sctx.fill();
        st.x += Math.cos(st.a)*st.s*0.08;
        st.y += Math.sin(st.a)*st.s*0.08;
        // warp star
        if(st.x < 0) st.x = SW;
        if(st.x > SW) st.x = 0;
        if(st.y < 0) st.y = SH;
        if(st.y > SH) st.y = 0;
      }
      requestAnimationFrame(drawStarBG);
    }
    drawStarBG();

    // ==== Confetti BG ====
    const c = document.getElementById('bg-confetti');
    const ctx = c.getContext('2d');
    const colors = ['#5ebeff','#ffec70','#ff7f50','#3ec7e0','#fcee21','#8aff65','#ffb5e8','#f884ff'];
    let W = window.innerWidth, H = window.innerHeight;
    c.width = W; c.height = H;
    let pieces = [];
    for(let i=0;i<65;i++){
      pieces.push({
        x: Math.random()*W,
        y: Math.random()*H-50,
        r: Math.random()*8+6,
        d: Math.random()*50+30,
        color: colors[Math.floor(Math.random()*colors.length)],
        tilt: Math.random()*10-5,
        tiltAngle: 0,
        tiltAngleIncremental: (Math.random()*0.11)+.03,
        shape: Math.random()>0.5?'circle':'rect'
      });
    }
    function drawConfetti(){
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<pieces.length;i++){
        let p = pieces[i];
        ctx.save();
        ctx.beginPath();
        ctx.globalAlpha = 0.7;
        ctx.strokeStyle = p.color;
        ctx.fillStyle = p.color;
        ctx.lineWidth = p.r;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.tilt/28);
        if(p.shape==='circle'){
          ctx.arc(0,0,p.r/2,0,2*Math.PI);
          ctx.fill();
        } else {
          ctx.moveTo(-p.r/2,0); ctx.lineTo(p.r/2,0);
          ctx.stroke();
        }
        ctx.restore();
      }
      updateConfetti();
      requestAnimationFrame(drawConfetti);
    }
    function updateConfetti(){
      for(let i=0;i<pieces.length;i++){
        let p = pieces[i];
        p.y += (Math.cos(p.d)+2+ p.r/2)/2.3;
        p.tiltAngle += p.tiltAngleIncremental;
        p.tilt = Math.sin(p.tiltAngle- (i%3)) * 14;
        if(p.y > H){
          p.x = Math.random()*W;
          p.y = -10;
          p.tilt = Math.random()*10-5;
        }
      }
    }
    drawConfetti();

    // ==== Bubble BG ====
    const bubble = document.getElementById('bg-bubble');
    const btx = bubble.getContext('2d');
    bubble.width = W; bubble.height = H;
    let bubbles = [];
    for(let i=0;i<11;i++){
      bubbles.push({
        x: Math.random()*W, y: Math.random()*H,
        r: Math.random()*21+11, d: Math.random()*12+3,
        dx: Math.random()*1.5-0.7, dy: Math.random()*1.3+0.6,
        c: colors[Math.floor(Math.random()*colors.length)]
      });
    }
    function drawBubbles(){
      btx.clearRect(0,0,W,H);
      for(let b of bubbles){
        btx.beginPath();
        btx.arc(b.x, b.y, b.r, 0, 2*Math.PI);
        btx.fillStyle = b.c+'18';
        btx.shadowColor = b.c+'99';
        btx.shadowBlur = 19;
        btx.fill();
        btx.shadowBlur = 0;
        b.x += b.dx;
        b.y -= b.dy;
        if(b.x < -b.r) b.x = W+b.r;
        if(b.x > W+b.r) b.x = -b.r;
        if(b.y < -b.r) { b.y = H+b.r; b.x = Math.random()*W;}
      }
      requestAnimationFrame(drawBubbles);
    }
    drawBubbles();

    // ==== Balloon BG ====
    const balloon = document.getElementById('bg-balloons');
    const bltx = balloon.getContext('2d');
    balloon.width = W; balloon.height = H;
    let balloons = [];
    let balColors = ['#48A9E6','#FFE156','#FF61A6','#7FDBDA','#FFB36A','#CA7DF9','#FFF','#A0E426'];
    for(let i=0;i<5;i++){
      balloons.push({
        x: Math.random()*W,
        y: H+Math.random()*200,
        r: Math.random()*20+18,
        c: balColors[Math.floor(Math.random()*balColors.length)],
        swing: Math.random()*Math.PI*2,
        speed: Math.random()*0.21+0.13
      });
    }
    function drawBalloons(){
      bltx.clearRect(0,0,W,H);
      for(let b of balloons){
        let sway = Math.sin(Date.now()/900+b.swing)*11;
        bltx.save();
        bltx.beginPath();
        bltx.ellipse(b.x+sway, b.y, b.r*0.51, b.r*0.68, 0, 0, 2*Math.PI);
        bltx.fillStyle = b.c+'ea';
        bltx.shadowColor = b.c+'66';
        bltx.shadowBlur = 13;
        bltx.fill();
        bltx.shadowBlur=0;
        bltx.beginPath();
        bltx.moveTo(b.x+sway, b.y+b.r*0.68);
        bltx.lineTo(b.x+sway, b.y+b.r*1.18);
        bltx.strokeStyle = "#bbb";
        bltx.lineWidth = 2;
        bltx.stroke();
        bltx.restore();
        b.y -= b.speed;
        if(b.y < -b.r*2) {
          b.y = H+Math.random()*180;
          b.x = Math.random()*W;
        }
      }
      requestAnimationFrame(drawBalloons);
    }
    drawBalloons();

    // ==== Responsive Resize All Canvas ====
    window.addEventListener('resize',()=>{
      W=window.innerWidth; H=window.innerHeight;
      c.width=W; c.height=H;
      bubble.width=W; bubble.height=H;
      balloon.width=W; balloon.height=H;
      s.width=SW=window.innerWidth; s.height=SH=window.innerHeight;
    });
  </script>
</body>
</html>
